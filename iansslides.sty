\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{iansslides}[2020/10/10 Preamble for Ian's slides.]

% Enables the use of colour.
\usepackage{xcolor}
% Syntax high-lighting for code. Requires Python's pygments.
\usepackage{minted}
% URLs.
\usepackage{hyperref}
% Diagrams.
\usepackage{tikz}
% Latin modern fonts - better looking than the defaults.
\usepackage{lmodern}
% Allows for columns spanning multiple rows in tables.
\usepackage{multirow}
% Better looking tables, including nicer borders.
\usepackage{booktabs}
% More math symbols.
\usepackage{amssymb}
% More math fonts, like mathbb.
\usepackage{amsfonts}
% More math layouts, equation arrays, etc.
\usepackage{amsmath}
% More theorem environments.
\usepackage{amsthm}
% More column formats for tables.
\usepackage{array}
% Adjust the sizes of box environments.
\usepackage{adjustbox}
% Better looking single quotes in verbatim and minted environments.
\usepackage{upquote}
% Better blank space decisions.
\usepackage{xspace}
% Better looking tikz trees.
\usepackage{forest}
% For plotting.
\usepackage{pgfplots}
% For more font sizes.
\usepackage{anyfontsize}

% Various tikz libraries.
% For drawing mind maps.
\usetikzlibrary{mindmap}
% For adding shadows.
\usetikzlibrary{shadows}
% Extra arrows tips.
\usetikzlibrary{arrows.meta}
% Old arrows.
\usetikzlibrary{arrows}
% Automata.
\usetikzlibrary{automata}
% For more positioning options.
\usetikzlibrary{positioning}
% Creating chains of nodes on a line.
\usetikzlibrary{chains}
% Fitting node to contain set of coordinates.
\usetikzlibrary{fit}
% Extra shapes for drawing.
\usetikzlibrary{shapes}
% For markings on paths.
\usetikzlibrary{decorations.markings}
% For advanced calculations.
\usetikzlibrary{calc}
% For layering.
\usetikzlibrary{backgrounds}

% GMIT colours.
\definecolor{gmitblue}{RGB}{20,134,225}
\definecolor{gmitred}{RGB}{220,20,60} 
\definecolor{gmitgrey}{RGB}{67,67,67}

% Change some style options.
\usetheme{metropolis}
% Change some metroplis theme settings.
\metroset{sectionpage=simple, numbering=none, block=fill,background=dark}

% Tell minted to use the following colour scheme. 
\usemintedstyle{manni}

% Change the default theme colours.
\setbeamercolor{normal text}{fg=darkgray, bg=white}
\setbeamercolor{alerted text}{fg=gmitred, bg=white}
\setbeamercolor{example text}{fg=gmitblue, bg=white}
\setbeamercolor{frametitle}{fg=gmitblue, bg=white}
\setbeamercolor*{item}{fg=gmitblue}
\setbeamercolor{progress bar}{fg=gmitblue}

% Use a better math mode font.
\usefonttheme[onlymath]{serif}

% \citeurl can be used to a clickable short url to a slide as a reference.
\renewcommand\footnoterule{}
\newcommand{\citeurl}[1]{\let\thefootnote\relax\footnotetext{\tiny \textcolor{gmitgrey}{\href{http://#1}{#1}}}}
\newcommand{\citeeg}[1]{\let\thefootnote\relax\footnotetext{\tiny \textcolor{gmitgrey}{#1}}}
  
% Prevent minted from showing errors.
\makeatletter
\expandafter\def\csname PYGdefault@tok@err\endcsname{\def\PYGdefault@bc##1{{\strut ##1}}}
\makeatother

% CHange how hyperlinks are displayed.
\hypersetup{
  colorlinks=true,
  linkcolor=gmitblue,
  filecolor=gmitblue,      
  urlcolor=gmitblue,
}

% Change how section pages look.
\setbeamertemplate{section page}
{
  \begin{center}
    \usebeamerfont{section title}\insertsection \\[6mm]
    \small \href{mailto:ian.mcloughlin@gmit.ie}{ian.mcloughlin@gmit.ie}
  \end{center}
}

% PGF version.
\pgfplotsset{compat=1.9}

% A basic horizontal rule.
\newcommand{\hr}{\rule{\textwidth}{0.5pt}}

% Prevent minted from showing errors.
\makeatletter
\expandafter\def\csname PYGdefault@tok@err\endcsname{\def\PYGdefault@bc##1{{\strut ##1}}}
\makeatother


% Change colours in tikz pictures.
\tikzset{onslide/.code args={<#1>#2}{%
  \only<#1>{\pgfkeysalso{#2}} % \pgfkeysalso doesn't change the path
}}
\tikzset{temporal/.code args={<#1>#2#3#4}{%
  \temporal<#1>{\pgfkeysalso{#2}}{\pgfkeysalso{#3}}{\pgfkeysalso{#4}} % \pgfkeysalso doesn't change the path
}}

% An environment for displaying math in red, without lots of vertical space.
\newcommand{\redmath}[1]{\vspace{-3mm} {\begin{center} \color{gmitred} $ #1 $ \end{center}} \vspace{-2mm}}
\newcommand{\red}[1]{\vspace{-3mm} {\begin{center} \color{gmitred} #1 \end{center}} \vspace{-2mm}}

% For displaying a blank character.
\newcommand{\bl}{\underline{\hspace{2mm}}}
